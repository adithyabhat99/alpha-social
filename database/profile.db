create database users;
create table users.user
(
    userid varchar(255) primary key,
    username varchar(128) not null unique key,
    firstname varchar(128) not null,
    lastname varchar(128) not null,
    password varchar(255) not null,
    email varchar(30) unique key,
    token varchar(255) not null unique key,
    verified tinyint(1) not null default '0',
    phoneno varchar(15) unique key,
    phonetoken varchar(255) unique key,
    verifiedphone tinyint(1) not null default '0',
    public tinyint(1) not null default '0',
    datecreated datetime not null,
    dateupdated datetime not null,
    bio varchar(255)
);
create table users.followre
(
    follower varchar(255) not null,
    followed varchar(255) not null,
    date datetime not null,
    id varchar(255) not null unique key,
    foreign key(follower) references users.user(userid) on delete cascade,
    foreign key(followed) references users.user(userid) on delete cascade
);
create table users.follow
(
    follower varchar(255) not null,
    followed varchar(255) not null,
    id varchar(255) not null unique key,
    date datetime not null,
    muted tinyint(1) not null default '0',
    foreign key(follower) references users.user(userid) on delete cascade,
    foreign key(followed) references users.user(userid) on delete cascade
);
create table users.reports
(
    userid varchar(255) not null,
    reportedby varchar(255) not null,
    foreign key (userid) references users.user(userid) on delete cascade
);
